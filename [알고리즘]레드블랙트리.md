# [알고리즘]레드블랙트리

## 레드 블랙 트리 (Red Black Tree)

이진검색트리의 모든 노드에 블랙 또는 레드의 색을 칠하되 

레드블랙특성을 만족해야 한다.

=>걍 이진 검색 트리에 색 칠한거임. 근데 규칙을 곁들인.



#### 특성 4가지

1. 루트는 블랙이다

2. 모든 리프는 (NIL)는 블랙이다. (이거 쉬움.)

3. 노드가 레드이면 그 노드의 자식은 반드시 블랙이다.

4. 루트 노드에서 임의의 리프 노드에 이르는 경로에서 만나는

   블랙 노드의 수는 모두 같다. (만약에 같지않다? 재분배해야함.)



4번의 뜻이 뭔지 몰라서 유튜브 검색해봄.

![img](https://media.discordapp.net/attachments/1027052349979635785/1031616442455568384/unknown.png?width=1069&height=558)





만약 위 특성을 만족하지 못하면 재배치하여 레드 블랙 트리로 만들어야한다.



NIL Node는 아직 비어있는 것

NIL 포인터가 NIL이라는 리프 노드를 가리킨다고 가정한다.

![image-20221018035832269](C:\Users\LG\AppData\Roaming\Typora\typora-user-images\image-20221018035832269.png)



#### 삽입

이진검색트리와 삽입와 같다. 그런데 삽입 후 삽입된 노드를 레드로 칠한다.(이게 중요)



1. 삽입 후 삽입된 노드를 RED로 칠한다. 그리고 이 노드를 x

2. 여기서 CASE가 두가지로 나뉘는데 x의 부모노드가 블랙이면 문제X

   X의 부모노드가 레드이면 문제 발생!(특성위배)

   그럼 X의 부모노드를 P라 하자.

   P는 레드이니깐 P의 부모노드를 P1는 당연히 블랙.

   당연함. 레드-레드는 애초에 특성 위배.

   자 그럼 이진 검색 트리이니깐 

   P1의 자식 노드를 보면 된다. 그 중 P는 레드이고

   나머지 노드가 블랙인 경우와 레드인 경우이다.

   레드인 경우는 그냥 재분배하면 된다. P1 블랙 색과

   P1의 나머지 노드의 색을 바꾸고 삽입하면 문제 없음

3. 자 음.... 뭐꼬 모르겠네....



삭제

-일단 시험에 나오지 않아 잠시 패스합니다



#### 레드 블랙 트리의 성능

블랙 노드는 좌우 서브 트리상에서 그 수는 똑같다.

-> 루트 노드에서 임의의 리프 노드에 이르는 경로에서 만나는

   블랙 노드의 수는 모두 같다.(특성 말하는 거 같은데) 

만약 임의의 노드상에서 레드 노드의 수가 블랙 노드의 수와 같아지는 경우가 생기면 그 패스의 노드 수는 2([logn]+1)가 될 수 있다.

-> 이게 뭔 소리인데-.-



따라서 키의 총 수가 n개인 레드블랙 트리의 가능한 최대 깊이는 

O(logn)이다.



레드 블랙 트리는 깊이에 따라서 복잡도가....